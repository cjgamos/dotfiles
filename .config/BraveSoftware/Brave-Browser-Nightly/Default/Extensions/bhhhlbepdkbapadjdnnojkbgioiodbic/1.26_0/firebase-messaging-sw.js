"undefined"!=typeof chrome&&chrome.runtime?(importScripts("/firebase-app-8.10.0.min.js"),importScripts("/firebase-msg-8.10.0.min.js")):(importScripts("https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"),importScripts("https://www.gstatic.com/firebasejs/8.10.0/firebase-messaging.js"));const firebaseConfig={apiKey:"AIzaSyBnuytdyhVuSzo0qAhX5QWYu6Z2jTBPWog",authDomain:"solflare-d0638",projectId:"solflare-d0638",storageBucket:"solflare-d0638.appspot.com",messagingSenderId:"191112318129",appId:"1:191112318129:web:a3555b4ee54f13a6efa690"};firebase.initializeApp(firebaseConfig);const messaging=firebase.messaging();self.addEventListener("notificationclick",(async i=>{i.notification.close();const e=i.notification.data;i.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((i=>{const t=self.location.origin.includes("extension")?`${self.location.origin}/wallet.html#`:"";let a=`${t}/portfolio`;return e&&e.publicKey&&(a=`${t}/deeplink/${e.publicKey}/activity`),e&&e.actionUrl&&(a=e.actionUrl),self.clients.openWindow(a)})))})),messaging.onBackgroundMessage((i=>{let e=null,t=null;if(console.log("background",i),i.data){let a="/assets/logo-128.png";i.data.icon&&(a=i.data.icon),["notification","broadcast","cast","event"].includes(i.data.type)&&(e=i.data.title,t={body:i.data.body,icon:a,data:i.data})}e&&t&&self.registration.showNotification(e,t)}));