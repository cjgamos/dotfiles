"use strict";(self.webpackChunksolflare=self.webpackChunksolflare||[]).push([["src_common_components_AutoLockTimeModal_index_js-src_common_components_ClearWalletModal_index-64519f"],{"./src/common/components/AutoLockTimeModal/index.js":function(e,t,n){n.d(t,{Z:function(){return Z}});var o,r,i=n("./node_modules/@material-ui/core/esm/TextField/TextField.js"),c=n("./node_modules/@material-ui/core/esm/Button/Button.js"),a=n("./node_modules/react/index.js"),l=n("./node_modules/prop-types/index.js"),s=n.n(l),u=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/reselect/es/index.js"),p=n("./src/selectors/config.js"),m=(0,f.zB)({autoLock:p.xB}),d=n("./src/common/components/Modal/index.js"),y=n("./node_modules/react-i18next/dist/es/withTranslation.js"),b=n("./src/actions/config.js");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t,n,o,r,i,c){try{var a=e[i](c),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function j(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=(0,y.Z)()(o=(0,u.$j)(m,{setAutoLockTime:b.F7})((r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(s,e);var t,n,o,r,l=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(o);if(r){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),C(E(t=l.call(this,e)),"onChange",(function(e){t.setState({time:e.target.value,error:null})})),C(E(t),"onSubmit",function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n||n.preventDefault(),o=parseFloat(t.state.time),isFinite(o)&&!(o<0)){e.next=5;break}return t.setState({error:t.props.t("validation_invalid_number")}),e.abrupt("return");case 5:t.props.setAutoLockTime(o),t.props.onClose();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function c(e){v(i,o,r,c,a,"next",e)}function a(e){v(i,o,r,c,a,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}()),t.state={time:"".concat(e.autoLock.time),error:null},t}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.fullScreen,o=e.t;return a.createElement(d.Z,{open:!0,fullScreen:n,onClose:t,title:o("settings_security_autolock_title"),onSubmit:this.onSubmit,maxWidth:"xs",actions:a.createElement(c.Z,{type:"submit",variant:"contained"},o("action_save"))},a.createElement(i.Z,{fullWidth:!0,variant:"outlined",label:o(o("settings_security_autolock_time_input_label")),error:!!this.state.error,helperText:!!this.state.error&&this.state.error,name:"time",type:"number",inputProps:{min:.1,step:.1},value:this.state.time,onChange:this.onChange}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component),C(r,"propTypes",{t:s().func,fullScreen:s().bool,onClose:s().func,autoLock:s().object,setAutoLockTime:s().func}),o=r))||o)||o},"./src/common/components/ClearWalletModal/index.js":function(e,t,n){n.d(t,{Z:function(){return D}});var o,r,i=n("./node_modules/@material-ui/core/esm/Button/Button.js"),c=n("./node_modules/@material-ui/core/esm/TextField/TextField.js"),a=n("./node_modules/@material-ui/core/esm/Box/Box.js"),l=n("./node_modules/@material-ui/lab/esm/Alert/Alert.js"),s=n("./node_modules/@material-ui/core/esm/Typography/Typography.js"),u=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),p=n.n(f),m=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/es/index.js"),y=n("./src/selectors/config.js"),b=n("./src/wallet/shared.js"),h=n("./node_modules/lodash/lodash.js"),v=(0,d.P1)(y.ut,(function(e){var t=e.password,n=e.wallets;return{password:t,wallets:n,mnemonicWallet:(0,h.find)(n,(function(e){return e.type===b.R7&&e.data}))}})),g=(0,d.zB)({wallet:v}),_=n("./src/common/components/Modal/index.js"),j=n("./src/wallet/mnemonic.js"),E=n("./src/wallet/localStorage.js"),w=n("./src/common/utils/extension.js"),C=n("./node_modules/react-i18next/dist/es/withTranslation.js"),Z=n("./src/common/utils/localStorage.js"),P=n("./src/actions/notifications.js");function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function O(e,t,n,o,r,i,c){try{var a=e[i](c),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function c(e){O(i,o,r,c,a,"next",e)}function a(e){O(i,o,r,c,a,"throw",e)}c(void 0)}))}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function L(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=(0,C.Z)()(o=(0,m.$j)(g,{removeRemoteDeviceState:P.zH})((r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(p,e);var t,n,o,r,f=(o=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(o);if(r){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function p(){var e;k(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return M(N(e=f.call.apply(f,[this].concat(n))),"state",{mnemonic:"",error:null}),M(N(e),"onChange",(function(t){e.setState({mnemonic:t.target.value,error:null})})),M(N(e),"onSubmit",function(){var t=S(regeneratorRuntime.mark((function t(n){var o,r,i,c,a,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||n.preventDefault(),o=e.props,r=o.wallet,i=o.onClose,c=o.t,a=o.i18n,!r.mnemonicWallet){t.next=12;break}if(l=e.state.mnemonic,!(s=j.Bn.fromObject(r.mnemonicWallet)).locked){t.next=9;break}return t.next=8,s.unlock(r.password);case 8:s=t.sent;case 9:if(l.trim()===s.mnemonic){t.next=12;break}return e.setState({error:c("validation_invalid_mnemonic")}),t.abrupt("return");case 12:return(0,E.sG)(),(0,E.TF)(),(0,Z.sJ)(),(0,Z.vg)(),(0,Z.Li)("solflaresigneddata"),t.prev=17,t.next=20,e.props.removeRemoteDeviceState({language:a.language});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(17),console.error(t.t0);case 25:localStorage.removeItem("solflareFollowModal"),i(),w.p?window.location.reload():window.location.href="/";case 28:case"end":return t.stop()}}),t,null,[[17,22]])})));return function(e){return t.apply(this,arguments)}}()),e}return t=p,(n=[{key:"warningText",value:function(){return u.createElement(a.Z,{mb:4},u.createElement(l.Z,{severity:"error"},u.createElement(s.Z,{variant:"body2"},this.props.t("logout_keep_mnemonic_safe"))))}},{key:"renderMnemonic",value:function(){var e=this.props.t;return u.createElement("form",{onSubmit:this.onSubmit},this.warningText(),u.createElement(a.Z,{mb:4},u.createElement(s.Z,{variant:"body1"},e("logout_warning_confirm_mnemonic"))),u.createElement(a.Z,{mb:4},u.createElement(c.Z,{multiline:!0,autoComplete:"off",fullWidth:!0,label:e("logout_type_mnemonic_to_confirm"),variant:"outlined",name:"mnemonic",error:!!this.state.error,helperText:this.state.error||"",value:this.state.mnemonic,onChange:this.onChange})),u.createElement(a.Z,{display:"flex",justifyContent:"center",mb:2},u.createElement(i.Z,{type:"submit",size:"small",variant:"contained"},e("action_logout"))))}},{key:"renderLedger",value:function(){var e=this.props.t;return u.createElement("form",{onSubmit:this.onSubmit},this.warningText(),u.createElement(a.Z,{mb:4},u.createElement(s.Z,{variant:"body1"},e("logout_warning"))),u.createElement(a.Z,{display:"flex",justifyContent:"center",mb:2},u.createElement(i.Z,{type:"submit",size:"small",variant:"contained"},e("action_logout"))))}},{key:"render",value:function(){var e=this.props,t=e.wallet,n=e.onClose,o=e.fullScreen,r=e.t;return u.createElement(_.Z,{open:!0,fullScreen:o,onClose:n,title:r("logout_title"),maxWidth:"sm",children:t.mnemonicWallet?this.renderMnemonic():this.renderLedger()})}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(u.Component),M(r,"propTypes",{t:p().func,fullScreen:p().bool,wallet:p().object,onClose:p().func,removeRemoteDeviceState:p().func,i18n:p().object}),o=r))||o)||o},"./src/common/components/Header/NotificationsSettingsModal/index.js":function(e,t,n){n.d(t,{Z:function(){return me}});var o,r,i=n("./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js"),c=n("./node_modules/@material-ui/core/esm/FormControl/FormControl.js"),a=n("./node_modules/@material-ui/core/esm/Select/Select.js"),l=n("./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),s=n("./node_modules/@material-ui/icons/esm/NotificationsOffOutlined.js"),u=n("./node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),f=n("./node_modules/@material-ui/core/esm/Button/Button.js"),p=n("./node_modules/@material-ui/core/esm/List/List.js"),m=n("./node_modules/@material-ui/core/esm/ListItem/ListItem.js"),d=n("./node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),y=n("./node_modules/@material-ui/icons/esm/ChevronRight.js"),b=n("./node_modules/@material-ui/core/esm/Box/Box.js"),h=n("./node_modules/@material-ui/core/esm/Divider/Divider.js"),v=n("./node_modules/@material-ui/core/esm/Typography/Typography.js"),g=n("./node_modules/react/index.js"),_=n("./node_modules/prop-types/index.js"),j=n.n(_),E=n("./src/common/components/Modal/index.js"),w=n("./node_modules/react-redux/es/index.js"),C=n("./src/actions/notifications.js"),Z=n("./src/constants/notifications.js"),P=n("./node_modules/reselect/es/index.js"),x=n("./src/selectors/data.js"),O=(0,P.zB)({notifications:x.yu}),S=n("./node_modules/react-i18next/dist/es/withTranslation.js"),k=n("./node_modules/lodash/lodash.js"),T=n("./node_modules/@material-ui/core/esm/styles/withStyles.js"),R=n("./src/common/components/Avatar/index.js"),L=n("./src/common/utils/notifications.js"),N=n("./src/common/utils/extension.js"),B=n("./node_modules/@material-ui/core/esm/TextField/TextField.js"),M=n("./node_modules/@material-ui/core/esm/InputAdornment/InputAdornment.js"),D=n("./node_modules/@material-ui/icons/esm/SearchOutlined.js"),A=(0,P.zB)({notificationProtocol:x.Cj}),I=n("./src/actions/notificationProtocol.js"),K=n("./src/common/components/withWallet/index.js"),F=n("./src/common/components/theme/palette.js");function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n,o,r,i,c){try{var a=e[i](c),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function c(e){H(i,o,r,c,a,"next",e)}function a(e){H(i,o,r,c,a,"throw",e)}c(void 0)}))}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function q(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee,te,ne=(0,K.a)()(o=(0,S.Z)()(o=(0,T.Z)((function(){return{checkBoxItem:{padding:"0 0 10px 0",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid ".concat(F.D.common.white10)},avatar:{width:24,height:24,marginRight:8},dividedList:{paddingTop:8,paddingBottom:0},dividerTop:{marginTop:24}}}))(o=(0,w.$j)(A,{notificationPlatformConnections:I.WB,unsubscribeFromOrigin:I.NR})((r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,n,o,r,c=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(r){var n=Q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(){var e;$(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return X(J(e=c.call.apply(c,[this].concat(n))),"state",{search:""}),X(J(e),"handleRemoveOrigin",function(){var t=V(regeneratorRuntime.mark((function t(n){var o,r,i,c,a,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props,r=o.unsubscribeFromOrigin,i=o.wallet,c=o.notificationProtocol,a=n.target.name,t.next=4,r({domain:a,publicKey:i.instance.publicKey,timestamp:Date.now(),wallet:i});case 4:for((0,L.fZ)(a),l=0;l<c.connections.length;l++)(s=c.connections[l]).account.domains.find((function(e){return e===a}))&&s.account.domains.forEach((function(e){(0,L.fZ)(e)}));e.loadConnections();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),X(J(e),"onSearch",(function(t){e.setState(G(G({},e.state),{},{search:t.target.value}))})),e}return t=a,n=[{key:"componentDidMount",value:function(){this.loadConnections()}},{key:"loadConnections",value:function(){var e=this.props,t=e.notificationPlatformConnections,n=e.wallet;(0,L.YE)(n.instance.type)&&t({publicKey:n.instance.publicKey,timestamp:Date.now(),wallet:n})}},{key:"renderList",value:function(e){var t=this,n=this.props,o=n.t,r=n.classes;return n.notificationProtocol.connections.length?e.length?g.createElement(p.Z,{component:"nav"},e.map((function(e,n){return g.createElement(m.Z,{key:"notif-connection-".concat(n),className:r.checkBoxItem},g.createElement(b.Z,null,g.createElement(v.Z,{color:"textPrimary",variant:"body1"},e.account.name),g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},e.account.domains[0])),g.createElement(i.Z,{color:"primary",disabled:!1,checked:!0,name:e.account.domains[0],onClick:t.handleRemoveOrigin}))}))):g.createElement(p.Z,{component:"nav"},g.createElement(m.Z,{className:r.checkBoxItem},g.createElement(b.Z,null,g.createElement(v.Z,{color:"textPrimary",variant:"subtitle2"},o("platform_notifications_search_empty"))))):g.createElement(p.Z,{component:"nav"},g.createElement(m.Z,{className:r.checkBoxItem},g.createElement(b.Z,null,g.createElement(v.Z,{color:"textPrimary",variant:"subtitle2"},o("platform_notifications_empty")))))}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.wallet,o=e.notificationProtocol,r=e.onClose,i=this.state.search,c=[];return o.connections.length&&(c=o.connections.filter((function(e){var t=i.toLowerCase();if(""===i||e.account.name.toLowerCase().includes(t))return!0;for(var n=0;n<e.account.domains.length;n++)if(e.account.domains[n].toLowerCase().includes(t))return!0;return!1}))),g.createElement(E.Z,{open:!0,fullScreen:!N.C&&N.p,onClose:r,title:g.createElement(b.Z,null,g.createElement(v.Z,{color:"textPrimary",variant:"h2"},t("platform_notifications_title")),g.createElement(v.Z,{color:"textSecondary",variant:"body1"},t("platform_notifications_for")," ",n.accountName)),children:g.createElement(g.Fragment,null,g.createElement(b.Z,null,g.createElement(b.Z,{mb:4},g.createElement(B.Z,{fullWidth:!0,variant:"outlined",label:t("action_search"),value:this.state.search,onChange:this.onSearch,InputProps:{endAdornment:g.createElement(M.Z,{position:"end"},g.createElement(D.Z,null))}})),g.createElement(h.Z,{light:!0}),this.renderList(c)))})}}],n&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g.Component),X(r,"propTypes",{t:j().func,i18n:j().object,classes:j().object,wallet:j().object,notificationProtocol:j().object,notificationPlatformConnections:j().func,unsubscribeFromOrigin:j().func,onClose:j().func}),o=r))||o)||o)||o)||o;function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function se(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=(0,S.Z)()(ee=(0,T.Z)((function(){return{zeroPadding:{padding:0},icon:{marginRight:"-12px"},checkBoxItem:{padding:"0 0 10px 0",display:"flex",justifyContent:"space-between",alignItems:"center"},avatar:{width:24,height:24,marginRight:8},dividedList:{paddingTop:8,paddingBottom:0},dividerTop:{marginTop:24},hoverItem:{cursor:"pointer","&:hover":{opacity:.7}}}}))(ee=(0,w.$j)(O,{pushRemoteDeviceState:C.Pb})((te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(j,e);var t,n,o,r,_=(o=j,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fe(o);if(r){var n=fe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return se(this,e)});function j(){var e;ce(this,j);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return pe(ue(e=_.call.apply(_,[this].concat(n))),"state",{selectedPublicKey:e.props.wallet.currentAccount?e.props.wallet.currentAccount.publicKey:null,applyPreferenceToAll:null,platformNotificationModal:!1}),pe(ue(e),"getPublicKeySubscription",(function(){var t=e.props.notifications;return(0,k.find)(t.subscriptions,(function(t){return t.publicKey===e.state.selectedPublicKey}))})),pe(ue(e),"getPublicKeyName",(function(){var t=e.props.wallet,n=(0,k.find)(t.accounts,(function(t){return t.publicKey===e.state.selectedPublicKey}));return n?n.name:""})),pe(ue(e),"applyToggleGroup",(function(t){if(e.state.applyPreferenceToAll){var n=e.state.applyPreferenceToAll,o=n.group,r=n.enable;e.setState({applyPreferenceToAll:null}),e.pushToggleGroup(o,r,t)}})),pe(ue(e),"handleToggleGroup",(function(t){var n=t.target.name,o=t.target.checked;e.props.notifications.subscriptions.length>1?e.setState({applyPreferenceToAll:{group:n,enable:o}}):e.pushToggleGroup(n,o,!1)})),pe(ue(e),"pushToggleGroup",(function(t,n,o){var r=[],i=e.props,c=i.notifications,a=i.i18n,l=i.pushRemoteDeviceState,s=(0,k.cloneDeep)(c.subscriptions);"inbound-asset"===t?(r.push("inbound-sol"),r.push("inbound-spl")):"outbound-asset"===t?(r.push("outbound-sol"),r.push("outbound-spl")):"inbound-nft"===t?r.push("inbound-nft"):"outbound-nft"===t&&r.push("outbound-nft");for(var u=0,f=r;u<f.length;u++){var p=f[u];s=e.togglePreference(s,p,n,o)}l({language:a.language,osVersion:"1",topics:c.topics,subscriptions:s})})),pe(ue(e),"handleToggleTopic",(function(t){var n=e.props,o=n.notifications,r=n.i18n,i=n.pushRemoteDeviceState,c=(0,k.cloneDeep)(o.topics),a=t.target.name,l=t.target.checked;c=c.filter((function(e){return e!==a})),l&&c.push(a),i({language:r.language,osVersion:"1",subscriptions:o.subscriptions,topics:c})})),pe(ue(e),"handleChangePublicKey",(function(t){e.setState({selectedPublicKey:t.target.value})})),e}return t=j,n=[{key:"componentDidMount",value:function(){if((0,L.Yz)()){if(N.p){if(!N.C&&"granted"!==Notification.permission)return void(0,L.L5)(1);if(!N.C)return}Notification.requestPermission().then()}}},{key:"preferenceName",value:function(e){var t=this.props.t;switch(e){case"inbound-asset":return t("notifications_type_inbound_assets");case"outbound-asset":return t("notifications_type_outbound_assets");case"inbound-nft":return t("notifications_type_inbound_nfts");case"outbound-nft":return t("notifications_type_outbound_nfts")}return""}},{key:"togglePreference",value:function(e,t,n,o){for(var r=0;r<e.length;r++)(o||e[r].publicKey===this.state.selectedPublicKey)&&(e[r].preferences=e[r].preferences.filter((function(e){return e!==t})),n&&e[r].preferences.push(t));return e}},{key:"hasPreference",value:function(e){var t=(0,k.cloneDeep)(this.getPublicKeySubscription());return!!t&&t.preferences.includes(e)}},{key:"checkGroupEnabled",value:function(e){return"inbound-asset"===e?this.hasPreference("inbound-sol")||this.hasPreference("inbound-spl"):"outbound-asset"===e?this.hasPreference("outbound-sol")||this.hasPreference("outbound-spl"):"inbound-nft"===e?this.hasPreference("inbound-nft"):"outbound-nft"===e?this.hasPreference("outbound-nft"):void 0}},{key:"checkTopicEnabled",value:function(e){return this.props.notifications.topics.includes(e)}},{key:"renderPlatformNotificationButton",value:function(){var e=this,t=this.props,n=t.t,o=t.classes,r=t.wallet;return r.currentAccount?r.currentAccount.publicKey!==this.state.selectedPublicKey?null:g.createElement(g.Fragment,null,g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},n("platform_notifications_title")),g.createElement(h.Z,{light:!0}),g.createElement(b.Z,null,g.createElement(p.Z,{component:"nav",className:o.hoverItem,onClick:function(){e.setState(ie(ie({},e.state),{},{platformNotificationModal:!0}))}},g.createElement(m.Z,{className:o.checkBoxItem},g.createElement(b.Z,{width:320},g.createElement(v.Z,{color:"textPrimary",variant:"body1"},n("platform_notifications_title")),g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},n("platform_notifications_manage"))),g.createElement(d.Z,null,g.createElement(b.Z,{clone:!0,color:"text.secondary",className:o.icon},g.createElement(y.Z,null))))))):null}},{key:"renderApplyToAll",value:function(){var e=this,t=this.props.t;return g.createElement(E.Z,{open:!0,fullScreen:!N.C&&N.p,onClose:function(){e.setState({applyPreferenceToAll:null})},title:t("notifications_apply_to_all_title"),children:g.createElement(b.Z,null,g.createElement(b.Z,null,g.createElement(v.Z,{color:"textPrimary",variant:"body1"},t("notifications_apply_to_all_description",{preference:this.preferenceName(this.state.applyPreferenceToAll.group)}))),g.createElement(b.Z,{my:2.5},g.createElement(h.Z,{light:!0})),g.createElement(b.Z,{display:"flex",flexDirection:"column",justifyContent:"space-between"},g.createElement(f.Z,{type:"button",size:"small",variant:"contained",color:"primary",onClick:function(){e.applyToggleGroup(!0)}},t("notifications_apply_to_all_apply_all")),g.createElement(f.Z,{type:"button",size:"small",color:"primary",onClick:function(){e.applyToggleGroup(!1)}},t("notifications_apply_to_all_apply_current",{account:this.getPublicKeyName()}))))})}},{key:"renderNotificationsDisabled",value:function(){var e=this.props,t=e.onClose,n=e.t,o=e.classes;return g.createElement(E.Z,{open:!0,fullScreen:!N.C&&N.p,onClose:t,title:n("notifications_settings_title"),children:g.createElement(g.Fragment,null,g.createElement(b.Z,{mb:5},g.createElement(p.Z,{component:"nav",className:o.zeroPadding},g.createElement(m.Z,{className:o.zeroPadding},g.createElement(u.Z,{primary:g.createElement(v.Z,{variant:"h3"},n("notifications_disabled_title")),disableTypography:!0,secondary:g.createElement(b.Z,{clone:!0,width:240},g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},n("notifications_disabled_description")))}),g.createElement(d.Z,null,g.createElement(b.Z,{clone:!0,color:"text.secondary",className:o.icon},g.createElement(s.Z,null)))))),this.renderPlatformNotificationButton())})}},{key:"renderNotificationsUnsupported",value:function(){var e=this.props,t=e.onClose,n=e.t,o=e.classes;return g.createElement(E.Z,{open:!0,fullScreen:!N.C&&N.p,onClose:t,title:n("notifications_settings_title"),children:g.createElement(g.Fragment,null,g.createElement(b.Z,{mb:5},g.createElement(p.Z,{component:"nav",className:o.zeroPadding},g.createElement(m.Z,{className:o.zeroPadding},g.createElement(u.Z,{primary:g.createElement(v.Z,{variant:"h3"},n("notifications_unsupported_title")),disableTypography:!0,secondary:g.createElement(b.Z,{clone:!0,width:240},g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},n("notifications_unsupported_description")))}),g.createElement(d.Z,null,g.createElement(b.Z,{clone:!0,color:"text.secondary",className:o.icon},g.createElement(s.Z,null)))))),this.renderPlatformNotificationButton())})}},{key:"renderModal",value:function(){var e=this,t=this.props,n=t.onClose,o=t.t,r=t.wallet,s=t.notifications,u=t.classes;return this.getPublicKeySubscription()?g.createElement(E.Z,{open:!0,fullScreen:!N.C&&N.p,onClose:n,title:o("notifications_settings_title"),children:g.createElement(g.Fragment,null,g.createElement(b.Z,null,r.accounts.length>1&&g.createElement(c.Z,{variant:"outlined",fullWidth:!0},g.createElement(a.Z,{value:this.state.selectedPublicKey,onChange:this.handleChangePublicKey},r.accounts.map((function(e,t){return g.createElement(l.Z,{key:"acc-".concat(t),value:e.publicKey},g.createElement(b.Z,{display:"flex",alignItems:"center"},g.createElement(R.Z,{pubkey:e.publicKey,className:u.avatar}),g.createElement(v.Z,{variant:"body1"},e.name)))})))),g.createElement(v.Z,{className:u.dividerTop,color:"textSecondary",variant:"subtitle2"},o("notifications_account_scope")),g.createElement(h.Z,{light:!0}),g.createElement(p.Z,{component:"nav",className:u.dividedList},["inbound-asset","outbound-asset","inbound-nft","outbound-nft"].map((function(t){return g.createElement(m.Z,{key:"preference-".concat(t),className:u.checkBoxItem},g.createElement(v.Z,{color:"textPrimary",variant:"body1"},e.preferenceName(t)),g.createElement(i.Z,{color:"primary",disabled:s.loading,checked:e.checkGroupEnabled(t),name:t,onClick:e.handleToggleGroup}))})))),g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},o("notifications_global_scope")),g.createElement(h.Z,{light:!0}),g.createElement(b.Z,null,g.createElement(p.Z,{component:"nav"},g.createElement(m.Z,{className:u.checkBoxItem},g.createElement(b.Z,null,g.createElement(v.Z,{color:"textPrimary",variant:"body1"},o("notifications_topic_solflare_general")),g.createElement(v.Z,{color:"textSecondary",variant:"subtitle2"},o("notifications_topic_solflare_general_description"))),g.createElement(i.Z,{color:"primary",disabled:s.loading,checked:this.checkTopicEnabled(Z.E5[0]),name:Z.E5[0],onClick:this.handleToggleTopic})))),this.renderPlatformNotificationButton())}):null}},{key:"render",value:function(){var e=this;return(0,L.Yz)()?this.state.platformNotificationModal?g.createElement(ne,{onClose:function(){e.setState(ie(ie({},e.state),{},{platformNotificationModal:!1}))}}):"granted"===Notification.permission&&this.getPublicKeySubscription()?this.state.applyPreferenceToAll?this.renderApplyToAll():this.renderModal():this.renderNotificationsDisabled():this.renderNotificationsUnsupported()}}],n&&ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),j}(g.Component),pe(te,"propTypes",{t:j().func,i18n:j().object,classes:j().object,onClose:j().func,wallet:j().object,notifications:j().object,pushRemoteDeviceState:j().func}),ee=te))||ee)||ee)||ee},"./src/common/components/Icons/IconSun.js":function(e,t,n){n.d(t,{O:function(){return i}});var o=n("./node_modules/@material-ui/core/esm/SvgIcon/SvgIcon.js"),r=n("./node_modules/react/index.js"),i=function(e){return r.createElement(o.Z,e,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17.2174C14.8815 17.2174 17.2174 14.8815 17.2174 12C17.2174 9.11851 14.8815 6.78261 12 6.78261C9.11851 6.78261 6.78261 9.11851 6.78261 12C6.78261 14.8815 9.11851 17.2174 12 17.2174ZM12 19.3043C16.0341 19.3043 19.3043 16.0341 19.3043 12C19.3043 7.96592 16.0341 4.69565 12 4.69565C7.96592 4.69565 4.69565 7.96592 4.69565 12C4.69565 16.0341 7.96592 19.3043 12 19.3043Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9565 1.04348C10.9565 0.467181 11.4237 0 12 0C12.5763 0 13.0435 0.467181 13.0435 1.04348V2.08696C13.0435 2.66325 12.5763 3.13043 12 3.13043C11.4237 3.13043 10.9565 2.66325 10.9565 2.08696V1.04348Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9565 21.913C10.9565 21.3367 11.4237 20.8696 12 20.8696C12.5763 20.8696 13.0435 21.3367 13.0435 21.913V22.9565C13.0435 23.5328 12.5763 24 12 24C11.4237 24 10.9565 23.5328 10.9565 22.9565V21.913Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.9565 10.9565C23.5328 10.9565 24 11.4237 24 12C24 12.5763 23.5328 13.0435 22.9565 13.0435H21.913C21.3367 13.0435 20.8696 12.5763 20.8696 12C20.8696 11.4237 21.3367 10.9565 21.913 10.9565H22.9565Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.08696 10.9565C2.66325 10.9565 3.13043 11.4237 3.13043 12C3.13043 12.5763 2.66325 13.0435 2.08696 13.0435H1.04348C0.467181 13.0435 -2.51907e-08 12.5763 0 12C2.51907e-08 11.4237 0.467181 10.9565 1.04348 10.9565H2.08696Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9669 5.61796C21.4659 5.32982 22.1041 5.50082 22.3923 5.9999C22.6804 6.49899 22.5094 7.13717 22.0103 7.42532L21.1066 7.94706C20.6076 8.23521 19.9694 8.06421 19.6812 7.56512C19.3931 7.06603 19.5641 6.42785 20.0632 6.1397L20.9669 5.61796Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.89335 16.0527C3.39244 15.7646 4.03062 15.9356 4.31877 16.4347C4.60692 16.9338 4.43592 17.572 3.93683 17.8601L3.03315 18.3818C2.53407 18.67 1.89588 18.499 1.60774 17.9999C1.31959 17.5008 1.49059 16.8626 1.98968 16.5745L2.89335 16.0527Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5746 1.98954C16.8628 1.49046 17.5009 1.31945 18 1.6076C18.4991 1.89575 18.6701 2.53393 18.382 3.03302L17.8602 3.9367C17.5721 4.43579 16.9339 4.60679 16.4348 4.31864C15.9357 4.03049 15.7647 3.39231 16.0529 2.89322L16.5746 1.98954Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.13983 20.0632C6.42798 19.5641 7.06616 19.3931 7.56525 19.6812C8.06434 19.9694 8.23534 20.6076 7.94719 21.1066L7.42545 22.0103C7.1373 22.5094 6.49912 22.6804 6.00003 22.3923C5.50094 22.1041 5.32994 21.4659 5.61809 20.9668L6.13983 20.0632Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.61809 3.03302C5.32994 2.53393 5.50094 1.89575 6.00003 1.6076C6.49912 1.31946 7.1373 1.49046 7.42545 1.98954L7.94719 2.89322C8.23534 3.39231 8.06434 4.03049 7.56525 4.31864C7.06616 4.60679 6.42798 4.43579 6.13983 3.9367L5.61809 3.03302Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0529 21.1066C15.7647 20.6076 15.9357 19.9694 16.4348 19.6812C16.9339 19.3931 17.5721 19.5641 17.8602 20.0632L18.382 20.9668C18.6701 21.4659 18.4991 22.1041 18 22.3923C17.5009 22.6804 16.8628 22.5094 16.5746 22.0103L16.0529 21.1066Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.98967 7.42526C1.49058 7.13711 1.31958 6.49893 1.60773 5.99984C1.89588 5.50075 2.53406 5.32975 3.03315 5.6179L3.93683 6.13964C4.43592 6.42779 4.60692 7.06597 4.31877 7.56506C4.03062 8.06415 3.39244 8.23515 2.89335 7.947L1.98967 7.42526Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0633 17.86C19.5642 17.5719 19.3932 16.9337 19.6814 16.4346C19.9695 15.9355 20.6077 15.7645 21.1068 16.0527L22.0105 16.5744C22.5095 16.8626 22.6805 17.5008 22.3924 17.9998C22.1042 18.4989 21.4661 18.6699 20.967 18.3818L20.0633 17.86Z"}))}}}]);