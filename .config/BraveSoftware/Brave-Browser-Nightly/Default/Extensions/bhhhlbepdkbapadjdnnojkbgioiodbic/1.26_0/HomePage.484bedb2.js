"use strict";(self.webpackChunksolflare=self.webpackChunksolflare||[]).push([["HomePage"],{"./node_modules/@material-ui/core/esm/Link/Link.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("./node_modules/react/index.js"),s=n("./node_modules/clsx/dist/clsx.m.js"),i=n("./node_modules/@material-ui/core/esm/utils/capitalize.js"),c=n("./node_modules/@material-ui/core/esm/styles/withStyles.js"),u=n("./node_modules/@material-ui/core/esm/utils/useIsFocusVisible.js"),l=n("./node_modules/@material-ui/core/esm/utils/useForkRef.js"),f=n("./node_modules/@material-ui/core/esm/Typography/Typography.js"),d=a.forwardRef((function(e,t){var n=e.classes,c=e.className,d=e.color,p=void 0===d?"primary":d,m=e.component,y=void 0===m?"a":m,b=e.onBlur,h=e.onFocus,v=e.TypographyClasses,w=e.underline,g=void 0===w?"hover":w,j=e.variant,x=void 0===j?"inherit":j,k=(0,o.Z)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),_=(0,u.Z)(),P=_.isFocusVisible,O=_.onBlurVisible,R=_.ref,S=a.useState(!1),E=S[0],T=S[1],Z=(0,l.Z)(t,R);return a.createElement(f.Z,(0,r.Z)({className:(0,s.Z)(n.root,n["underline".concat((0,i.Z)(g))],c,E&&n.focusVisible,"button"===y&&n.button),classes:v,color:p,component:y,onBlur:function(e){E&&(O(),T(!1)),b&&b(e)},onFocus:function(e){P(e)&&T(!0),h&&h(e)},ref:Z,variant:x},k))}));t.Z=(0,c.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},"./src/common/utils/origin.js":function(e,t,n){function r(e){if(!e)return"";try{return new URL(e).host||e}catch(t){return e}}n.d(t,{mv:function(){return r}})},"./src/common/utils/urlParams.js":function(e,t,n){n.d(t,{A:function(){return o}});var r=n("./src/common/utils/origin.js");function o(){var e,t=new URLSearchParams(window.location.hash.slice(1)),n=t.get("origin"),o=(0,r.mv)(n),a=t.get("data");try{e=JSON.parse(a)}catch(t){e=null}var s=parseInt(t.get("tabId"),10)||null;return{params:t,origin:n,host:o,data:e,tabId:s}}},"./src/extension/pages/Home/index.js":function(e,t,n){n.r(t);var r,o,a=n("./node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/extension/pages/Home/selector.js"),l=n("./src/actions/wallet.js"),f=n("./src/wallet/localStorage.js"),d=n("./src/wallet/shared.js"),p=n("./src/extension/pages/Unlock/index.js"),m=n("./src/common/utils/urlParams.js"),y=n("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),b=n.n(y);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){v(a,r,o,s,i,"next",e)}function i(e){v(a,r,o,s,i,"throw",e)}s(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function k(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=(0,m.A)(),S=R.data,E=R.tabId,T=(0,c.$j)(u.Z,{login:l.x4})((o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,e);var t,n,r,o,s=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(_(e=s.call.apply(s,[this].concat(n))),"state",{unlockData:null}),O(_(e),"handleCloseWindow",w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=5;break}return e.next=3,b().tabs.sendMessage(E,{channel:"solflarePopupToContent",data:{error:"Popup closed",id:null==S?void 0:S.id}});case 3:e.next=7;break;case 5:return e.next=7,b().runtime.sendMessage({channel:"solflarePopupToContent",data:{error:"Popup closed",id:null==S?void 0:S.id}});case 7:case"end":return e.stop()}}),e)})))),O(_(e),"checkWallet",w(regeneratorRuntime.mark((function t(){var n,r,o,a,s,i,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.history,o=n.login,!(a=(0,f.u3)())){t.next=24;break}if(!a.locked){t.next=22;break}if(!(s=(0,f.an)())){t.next=18;break}return i=a.locked,c=a.data,t.prev=7,t.next=10,(0,d.bI)(c,s);case 10:u=t.sent,o({locked:i,data:u,password:s},!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0),(0,f.sG)();case 18:return e.setState({unlockData:a}),t.abrupt("return");case 22:return o(a),t.abrupt("return");case 24:r.replace("/access");case 25:case"end":return t.stop()}}),t,null,[[7,14]])})))),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.checkWallet(),window.addEventListener("beforeunload",this.handleCloseWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleCloseWindow)}},{key:"render",value:function(){return this.state.unlockData?a.createElement(p.Z,{storedData:this.state.unlockData}):null}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.Component),O(o,"propTypes",{wallet:i().object,login:i().func,history:i().object}),r=o))||r;t.default=T},"./src/extension/pages/Home/selector.js":function(e,t,n){var r=n("./node_modules/reselect/es/index.js"),o=n("./src/selectors/config.js");t.Z=(0,r.zB)({wallet:o.Rx})},"./src/extension/pages/Unlock/index.js":function(e,t,n){n.d(t,{Z:function(){return B}});var r,o,a=n("./node_modules/@material-ui/core/esm/Link/Link.js"),s=n("./node_modules/@material-ui/core/esm/Button/Button.js"),i=n("./node_modules/@material-ui/core/esm/TextField/TextField.js"),c=n("./node_modules/@material-ui/core/esm/Typography/Typography.js"),u=n("./node_modules/@material-ui/core/esm/Box/Box.js"),l=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),d=n.n(f),p=n("./node_modules/react-redux/es/index.js"),m=n("./src/actions/wallet.js"),y=n("./src/wallet/shared.js"),b=n("./node_modules/@material-ui/core/esm/styles/withStyles.js"),h=n("./src/assets/logo.svg"),v=n("./node_modules/lodash/lodash.js"),w=n("./src/wallet/mnemonic.js"),g=n("./node_modules/react-i18next/dist/es/withTranslation.js"),j=n("./node_modules/react-router-dom/esm/react-router-dom.js");function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){P(a,r,o,s,i,"next",e)}function i(e){P(a,r,o,s,i,"throw",e)}s(void 0)}))}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function T(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=(0,g.Z)()(r=(0,b.Z)((function(e){return{container:{position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:9999,background:e.dark?"#17171D":"white",padding:35,display:"flex",alignItems:"center",flexDirection:"column"},image:{width:150},form:{width:"100%"},input:{padding:"13px 16px"}}}))(r=(0,p.$j)(null,{login:m.x4,persistReduxData:m.RY})((o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(d,e);var t,n,r,o,f=(r=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function d(){var e;R(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return D(Z(e=f.call.apply(f,[this].concat(n))),"state",{password:"",error:null}),D(Z(e),"onChangePassword",(function(t){e.setState({password:t.target.value,error:null})})),D(Z(e),"onUnlock",function(){var t=O(regeneratorRuntime.mark((function t(n){var r,o,a,s,i,c,u,l,f,d,p,m,b,h,g,j,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==n||n.preventDefault(),r=e.props,o=r.storedData,a=r.login,s=r.t,i=e.state.password,t.prev=3,c=(0,y.c_)(i),t.next=7,(0,y.bI)(null==o?void 0:o.data,c);case 7:u=t.sent,a({locked:!0,data:u,password:c}),t.next=49;break;case 11:return t.prev=11,t.t0=t.catch(3),t.prev=13,l=(0,y.yX)(i),t.next=17,(0,y.bI)(null==o?void 0:o.data,l);case 17:f=t.sent,d=(0,v.keys)(f.wallets),p=k(d),t.prev=20,p.s();case 22:if((m=p.n()).done){t.next=33;break}if(b=m.value,(h=f.wallets[b]).type!==y.R7||!h.locked){t.next=31;break}return g=w.Bn.fromObject(h),t.next=29,g.unlock(l);case 29:j=t.sent,f.wallets[b]=j.toObject();case 31:t.next=22;break;case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(20),p.e(t.t1);case 38:return t.prev=38,p.f(),t.finish(38);case 41:x=(0,y.c_)(i),e.props.login({locked:!0,data:f,password:x}),e.props.persistReduxData(),t.next=49;break;case 46:t.prev=46,t.t2=t.catch(13),e.setState({error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||s("error_unable_to_unlock_wallet")});case 49:case"end":return t.stop()}}),t,null,[[3,11],[13,46],[20,35,38,41]])})));return function(e){return t.apply(this,arguments)}}()),e}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t;return l.createElement("div",{className:t.container},l.createElement(u.Z,{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},l.createElement("img",{src:h,alt:"Logo",className:t.image})),l.createElement("form",{onSubmit:this.onUnlock,className:t.form},l.createElement(c.Z,{variant:"subtitle2",align:"center",paragraph:!0},n("account_please_enter_password")),l.createElement(u.Z,{mb:2},l.createElement(i.Z,{autoFocus:!0,fullWidth:!0,type:"password",placeholder:n("form_password"),variant:"outlined",name:"password",inputProps:{className:t.input},error:!!this.state.error,helperText:this.state.error||"",value:this.state.password,onChange:this.onChangePassword})),l.createElement(s.Z,{variant:"contained",type:"submit",fullWidth:!0},n("action_unlock")),l.createElement(u.Z,{display:"flex",justifyContent:"center",mt:2},l.createElement(a.Z,{component:j.rU,to:"/forgot",color:"primary"},n("form_forgot_password")))))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(l.Component),D(o,"propTypes",{t:d().func,storedData:d().object,classes:d().object,login:d().func,persistReduxData:d().func}),r=o))||r)||r)||r},"./src/assets/logo.svg":function(e,t,n){e.exports=n.p+"assets/logo.26659b6d..svg"}}]);